"0",""
"0","# filter out outliers from the dataset"
"0","OPA_data <- OPA_raw %>%"
"0","  filter("
"0","    total_livable_area <= 10000,"
"0","    year_built > 1800,"
"0","    !is.na(number_of_bathrooms),"
"0","    !is.na(number_of_bedrooms),"
"0","    number_of_bathrooms < 12,"
"0","  ) %>%"
"0","  mutate("
"0","    year_built = as.numeric(year_built),"
"0","    building_age = 2025 - year_built"
"0","  )"
"0",""
"0","p1 <- ggplot(OPA_data, aes(x = total_livable_area, y = sale_price)) +"
"0","  geom_point(alpha = 0.3, size = 0.8) +"
"0","  geom_smooth(method = ""lm"", color = ""red"", se = TRUE) +"
"0","  scale_y_continuous(labels = dollar_format()) +"
"0","  scale_x_continuous(labels = comma_format()) +"
"0","  labs("
"0","    title = ""Sale Price vs. Total Livable Area"","
"0","    x = ""Total Livable Area (sq ft)"","
"0","    y = ""Sale Price"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme(plot.title = element_text(size = 10, face = ""bold""))"
"0",""
"0","p2 <- ggplot(OPA_data, aes(x = factor(number_of_bedrooms), y = sale_price)) +"
"0","  geom_boxplot(fill = ""gray"", alpha = 0.6, outlier.alpha = 0.3, outlier.size = 0.5) +"
"0","  stat_summary(fun = mean, geom = ""point"", color = ""red"", size = 2, shape = 18) +"
"0","  scale_y_continuous(labels = dollar_format()) +"
"0","  labs("
"0","    title = ""Sale Price vs. Number of Bedrooms"","
"0","    x = ""Number of Bedrooms"","
"0","    y = ""Sale Price"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme(plot.title = element_text(size = 10, face = ""bold""))"
"0",""
"0","p3 <- ggplot(OPA_data, aes(x = factor(number_of_bathrooms), y = sale_price)) +"
"0","  geom_boxplot(fill = ""gray"", alpha = 0.6, outlier.alpha = 0.3, outlier.size = 0.5) +"
"0","  stat_summary(fun = mean, geom = ""point"", color = ""red"", size = 2, shape = 18) +"
"0","  scale_y_continuous(labels = dollar_format()) +"
"0","  labs("
"0","    title = ""Sale Price vs. Number of Bathrooms"","
"0","    x = ""Number of Bathrooms"","
"0","    y = ""Sale Price"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme(plot.title = element_text(size = 10, face = ""bold""))"
"0",""
"0","p4 <- ggplot(OPA_data, aes(x = building_age, y = sale_price)) +"
"0","  geom_point(alpha = 0.3, size = 0.8) +"
"0","  geom_smooth(method = ""lm"", color = ""red"", se = TRUE) +"
"0","  scale_y_continuous(labels = dollar_format()) +"
"0","  labs("
"0","    title = ""Sale Price vs. Age"","
"0","    x = ""Age"","
"0","    y = ""Sale Price"""
"0","  ) +"
"0","  theme_minimal() +"
"0","  theme(plot.title = element_text(size = 10, face = ""bold""))"
"0",""
"0","# Combine plots"
"0","(p1 | p2) / (p3 | p4)"
