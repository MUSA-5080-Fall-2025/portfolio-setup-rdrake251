"0","#| output: false"
"0",""
"0","pa_crs <- 2272  "
"0","neighbor_points <- st_transform(OPA_data, pa_crs)"
"0",""
"0","nrow(nhoods)"
"1","[1]"
"1"," 159"
"1","
"
"0","st_crs(neighbor_points)"
"1","Coordinate Reference System:"
"1","
"
"1","  User input:"
"1"," "
"1","EPSG:2272"
"1"," "
"1","
"
"1","  wkt:
"
"1",""
"1","PROJCRS[""NAD83 / Pennsylvania South (ftUS)"",
    BASEGEOGCRS[""NAD83"",
        DATUM[""North American Datum 1983"",
            ELLIPSOID[""GRS 1980"",6378137,298.257222101,
                LENGTHUNIT[""metre"",1]]],
        PRIMEM[""Greenwich"",0,
            ANGLEUNIT[""degree"",0.0174532925199433]],
        ID[""EPSG"",4269]],
    CONVERSION[""SPCS83 Pennsylvania South zone (US survey foot)"",
        METHOD[""Lambert Conic Conformal (2SP)"",
            ID[""EPSG"",9802]],
        PARAMETER[""Latitude of false origin"",39.3333333333333,
            ANGLEUNIT[""degree"",0.0174532925199433],
            ID[""EPSG"",8821]],
        PARAMETER[""Longitude of false origin"",-77.75,
            ANGLEUNIT[""degree"",0.0174532925199433],
            ID[""EPSG"",8822]],
        PARAMETER[""Latitude of 1st standard parallel"",40.9666666666667,
            ANGLEUNIT[""degree"",0.0174532925199433],
            ID[""EPSG"",8823]],
        PARAMETER[""Latitude of 2nd standard parallel"",39.9333333333333,
            ANGLEUNIT[""degree"",0.0174532925199433],
            ID[""EPSG"",8824]],
        PARAMETER[""Easting at false origin"",1968500,
            LENGTHUNIT[""US survey foot"",0.304800609601219],
            ID[""EPSG"",8826]],
        PARAMETER[""Northing at false origin"",0,
            LENGTHUNIT[""US survey foot"",0.304800609601219],
            ID[""EPSG"",8827]]],
    CS[Cartesian,2],
        AXIS[""easting (X)"",east,
            ORDER[1],
            LENGTHUNIT[""US survey foot"",0.304800609601219]],
        AXIS[""northing (Y)"",north,
            ORDER[2],
            LENGTHUNIT[""US survey foot"",0.304800609601219]],
    USAGE[
        SCOPE[""Engineering survey, topographic mapping.""],
        AREA[""United States (USA) - Pennsylvania - counties of Adams; Allegheny; Armstrong; Beaver; Bedford; Berks; Blair; Bucks; Butler; Cambria; Chester; Cumberland; Dauphin; Delaware; Fayette; Franklin; Fulton; Greene; Huntingdon; Indiana; Juniata; Lancaster; Lawrence; Lebanon; Lehigh; Mifflin; Montgomery; Northampton; Perry; Philadelphia; Schuylkill; Snyder; Somerset; Washington; Westmoreland; York.""],
        BBOX[39.71,-80.53,41.18,-74.72]],
    ID[""EPSG"",2272]]"
"1",""
"1","
"
"0","nhoods <- st_transform(nhoods, 2272)"
"0",""
"0","#joining houses to neighborhoods"
"0","neighbor_points <- neighbor_points %>%"
"0","  st_join(., nhoods, join = st_intersects)"
"0",""
"0","# one property doesn't lie in any neighborhood"
"0","neighbor_points <- neighbor_points[!is.na(neighbor_points$NAME),]"
"0",""
"0","#results "
"0","neighbor_points %>%"
"0","  st_drop_geometry() %>%"
"0","  count(NAME) %>%"
"0","  arrange(desc(n))"
